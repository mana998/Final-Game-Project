<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google Font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./css/client.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    
    <title>GAME</title>
</head>
<body>
    <script src="/socket.io/socket.io.js"></script>
    <div id="viewBlock"></div>
    <div class="container">
        <div id="menuScreen">
            <div id="panel">
                <span id="loggedInUser"></span>
                <h1 id="gameTitle">GAME</h1>
                <div>
                    <button type="button" class="btn" id="createNewGameButton">
                        <span>New Game</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-caret-right-fill arrowIcon" viewBox="0 0 16 12">
                            <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                        </svg>
                    </button>
                </div>
                <div>
                    <div class='' id="joinRoomToPlay">
                        <input type="text" class="form-control" placeholder="Enter game code:" id="codeInput">
                        <span id="wrongGameCode"></span>
                    </div>
                    <button type="button" class="btn" class="" id="joinGameButton">
                        <div id="iconBox">
                            <span>Join Game</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-caret-right-fill arrowIcon" viewBox="0 0 16 12">
                                <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                            </svg>
                        </div>
                    </button>
                </div>
                <div>
                    <button type="button" class="btn" id="loginAndRegisterButton">
                        <span>Login/Register</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-caret-right-fill arrowIcon" viewBox="0 0 16 12">
                            <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                        </svg>
                    </button>
                </div>
            </div>
            <div id="loginAndRegister">
                <div id="loginAndRegisterBody">
                    <h1 id="loginAndRegisterHeadder">Login</h1>
                    <form>
                        <input placeholder="username" type="text" id="username" name="username"><br>
                        <input placeholder="password" type="password" id="password" name="password"><br>
                        <input placeholder="repeatPassword" type="password" id="repeatPassword" name="repeatPassword"><br>
                    </form> 
                    <button type="button" id="loginButton" class="btn btn-primary" onClick="activateLogin()">Login</button>
                    <button type="button" id="registerButton" class="btn btn-secondary" onClick="activateRegistartion()">Register</button>
                    <p id="message"></p> 
                </div>
            </div>
        </div>
        <div id="gameScreen">
            <div id="playMenu">
                <h1 id="codeDisplay">Your game code is: 
                    <span id = "displayGameCode"></span>
                </h1>
                <div class='' id="createUsername">
                    <input type="text" placeholder="Enter username" class="form-control" id="usernameInput">
                    <span id = "usernameMessage">Please, use one or more characters from: A-Z and 0-9.</span>
                </div>
                <button type="button" class="btn" id="playGameButton" disabled>
                    Play Game
                </button>               
            </div>
            <div id="endScreen" style="display: none">
                <button type="button" class="btn" id="leaveGameButton" onClick="leaveGame()">Leave Game</button><br>
                <span id="spectateAnotherPlayer">(Press enter to spectate another player)</span>
                <h1 id="currentScoreHeader">Current scores:</h1>
            </div>
        </div>
    </div>
    <canvas id ="canvas" width="500", height="500"></canvas>
    <script src="./models/Img.js"></script>
    <script src="./models/GameObject.js"></script>
    <script src="./models/Collectible.js"></script>
    <script src="./models/Coin.js"></script>
    <script src="./models/Gem.js"></script>
    <script src="./models/ReverseMovementGem.js"></script>
    <script src="./models/Trap.js"></script>
    <script src="./models/MovingTrap.js"></script>
    <script src="./models/GameMap.js"></script>
    <script src="./models/Player.js"></script>
    <script src="./client.js"></script>
    <script src="./scripts/play.js"></script>
    <script src="./scripts/end.js"></script>
    <script src="./scripts/handleUser.js"></script>
</body>
</html>